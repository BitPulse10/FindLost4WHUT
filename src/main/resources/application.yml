spring:
  config:
    import:
      - optional:file:docs/dev-ops/environment/.env[.properties]
  servlet:
    multipart:
      # multipart 解析阶段限制（到达 Controller 前生效）
      max-file-size: 10MB
      max-request-size: 50MB
  application:
    name: lostAndFoundForWhut
  profiles:
    active: dev
  # Flyway 数据库迁移配置
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

app:
  jwt:
    secret: ${APP_JWT_SECRET}
    expiration-ms: 86400000
    refresh-expiration-ms: 604800000
    issuer: lostAndFoundForWhut
  security:
    default-username: admin
    default-password: admin123
    enabled: true # 默认开启；即使显式关闭也不会放开接口鉴权
  upload:
    # 业务层图片大小校验（ImageServiceImpl 使用）
    max-file-size: 5MB # COS 限制 5MB

mybatis-plus:
  mapper-locations: classpath*:mapper/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      logic-delete-field: is_deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

logging:
  level:
    root: info
    org.springdoc: DEBUG
    com.github.xiaoymin: DEBUG
    org.springframework.web: INFO

tencent:
  cos:
    secret-id: ${TENCENT_COS_SECRET_ID}
    secret-key: ${TENCENT_COS_SECRET_KEY}
    bucket-name: ${TENCENT_COS_BUCKET_NAME}
    region: ${TENCENT_COS_REGION}

scheduling:
  task:
    clear-image-search:
      interval: 1h
